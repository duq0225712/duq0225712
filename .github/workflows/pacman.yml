name: 游리 Pac-Man Contribution Graph

on:
  schedule:
    - cron: "0 3 * * *" # Roda todos os dias 맙 03:00 UTC
  workflow_dispatch: # Permite execu칞칚o manual

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: 拘勇 Checkout do reposit칩rio
        uses: actions/checkout@v3

      - name: 丘뙖잺 Instalar depend칡ncias
        run: sudo apt-get update && sudo apt-get install -y python3 python3-pip

      - name: 游닌 Baixar script gerador de gr치fico
        run: |
          git clone https://github.com/Platane/snk.git
          cd snk
          pip install -r requirements.txt

      - name: 游 Gerar SVG - Tema Claro
        run: |
          mkdir -p output
          cd snk
          python3 generate.py --username duq0225712 --output ../output/pacman-contribution-graph.svg

      - name: 游꺀 Gerar SVG - Tema Escuro
        run: |
          cd snk
          python3 generate.py --username duq0225712 --output ../output/pacman-contribution-graph-dark.svg --dark

      - name: 游 Commit das imagens geradas
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add output/
          git commit -m "游리 Atualizar gr치fico Pac-Man" || echo "Nada para commitar"
          git push
